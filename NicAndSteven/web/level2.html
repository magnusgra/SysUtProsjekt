<!DOCTYPE html>
<html>
    <head>
        <title>Level2</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="js/resemble.js"></script>
        <script src="js/html2canvas.js"></script>
        
        <link rel="stylesheet" type="text/css" href="scene2.css">
        
        <style>
            .block {
                float: left;
                margin: 5px;
                padding: 5px;
                background-color: #dddddd;
            }
            
            .renderedFrame, .codeBox {
                width: 250px; height: 200px
            }
        </style>
        <script>
            $(document).ready(function() {
                
                var solutionHtml = "<div id=\"tre\" title=\"tre\"></div>\n" +
                "<div id=\"bygning5\" class=\"bygninger\" title=\"bygg5\"></div>\n" +
                "<div id=\"gress\" title=\"gress\"></div>\n" +
                "<div id=\"vei\" title=\"asfalt\"></div>"; 
                var solutionCss = "";
                
                var startingHtml = "<div id=\"\" title=\"tre\"></div>\n" +
                "<div id=\"bygning5\" class=\"\" title=\"bygg5\"></div>\n" +
                "id=\"gress\" title=\"gress\"\n" +
                "<div id=\"\" title=\"asfalt\"></div>";
        
                var startingCss = "#tre {\n" +
                "position: absolute;\n" +
                "height: 274px;\n" +
                "width: 208px;\n" +
                "top: 37px;\n" +
                "right: 40px;\n" +
                "z-index: 1;\n" +
                "background-image: url(\"bilder/scene2tre.png\");\n" +
                "}\n" +
                ".bygninger, #vei {\n" +
                    "background-color: #404040;\n" +
                    "position: absolute;\n" +
                    "z-index: 0;\n" +
                "}\n" +
                "#vei {\n" +
                    "height: 110px;\n" +
                    "width: 800px;\n" +
                    "bottom: 0px;\n" +
                "}\n" +
                ".bygninger {\n" +
                    "bottom: 190px;\n" +
                "}\n" +
                "#bygning5 {\n" +
                    "height: 125px;\n" +
                    "width: 125px;\n" +
                    "left: 175px;\n" +
                "}\n" +
                "#gress {\n" +
                    "height: 80px;\n" +
                    "width: 800px;\n" +
                    "position: absolute;\n" +
                    "top: 260px;\n" +
                    "left: 0px;\n" +
                    "z-index: 0;\n" +
                    "background-color: #bfcd9c;\n" +
                "}";
                
                //setRenderedResult($("#solutionFrame"), solutionHtml, solutionCss);

                $("#htmlView").val(startingHtml); 
                $("#cssView").val(startingCss); 
                
                
                
                $("#viewResult").click(function() {
                    var bygning = "<div id=\"bygning5\" class=\"bygninger\" title=\"bygg5\"></div>\n";
                    var tre = "<div id=\"tre\" title=\"tre\"></div>\n";
                    var vei = "<div id=\"vei\" title=\"asfalt\"></div>";
                    var gress = "<div id=\"gress\" title=\"gress\"></div>\n"
                    var innhold = $("#htmlView").val();
                    
                    if (innhold.indexOf(bygning)!== -1) {
                        $("#bygning5").css("z-index", "0"); 
                    }
                    if (innhold.indexOf(tre)!== -1) {
                        $("#tre").css("z-index", "1"); 
                    }
                    if (innhold.indexOf(vei)!== -1) {
                        $("#vei").css("z-index", "0"); 
                    }
                    if (innhold.indexOf(gress)!== -1) {
                        $("#gress").css("z-index", "0"); 
                    }
                    if ($("#htmlView").val() === solutionHtml) {
                        $("#box").css("background-color", "green");
                    }
                });
                $("#reset").click(function() {
                    $("#htmlView").val(startingHtml); 
                    $("#cssView").val(startingCss);
                    
                });
            });
            
            
            
            function setRenderedResult(frame, html, css) {
                frame.contents().find("html").html(html);
                var $head = frame.contents().find("head");                
                $head.append("<style>" + css + "</style>") 
            }
            
        </script>
    </head>
        
    <body>
    <section id="content">

       <section class="block">
           <p>Her er det noe som er fryktelig galt. <br>
               Steven har kludret med html-koden slik at den ikke henger sammen med css-en. <br>
               Her skal det være en vei som Nic kan følge. Fiks html-koden slik at den passer med css-en.</p>
           
           <div id ="container">
                <div id="tre" title="tre"></div>
                <div id="bygning1" class="bygninger" title="bygg1"></div>
                <div id="bygning2" class="bygninger" title="bygg2"></div>
                <div id="bygning3" class="bygninger" title="bygg3"></div>
                <div id="bygning4" class="bygninger" title="bygg4"></div>
                <div id="bygning5" class="bygninger" title="bygg5"></div>
                <div id="bygning6" class="bygninger" title="bygg6"></div>
                <div id="bygning7" class="bygninger" title="bygg7"></div>
                <div id="bygning8" class="bygninger" title="bygg8"></div>
                <div id="bygning9" class="bygninger" title="bygg9"></div>
                <div id="bygning10" class="bygninger" title="bygg10"></div>
                <div id="gress" title="gress"></div>
                <div id="vei" title="asfalt"></div>
                <div id="fartsstrek1" class="fartsstreker" title="fstrek1"></div>
                <div id="fartsstrek2" class="fartsstreker" title="fstrek2"></div>
                <div id="fartsstrek3" class="fartsstreker" title="fstrek3"></div>
                <div id="fartsstrek4" class="fartsstreker" title="fstrek4"></div>
                <div id="fartsstrek5" class="fartsstreker" title="fstrek5"></div>
            </div>
           
           <canvas id="canvas" >
               
               <script src="js/nicnsteve.js"></script>
                <div id="box"></div>
                
           </canvas>
           
       </section>
       
       <div id="codeContainer">  
            <section class="block">        
                <p>CSS</p>
                <textarea class="codeBox" id="cssView"></textarea>
            </section>

            <section class="block">        
                <p>HTML</p>
                <textarea class="codeBox" id="htmlView"></textarea>
            </section>
       
            <section class="block">    
                <input type="button" value="Oppdater" id="viewResult">
                <input type="button" value="Tilbakestill" id="reset">
            </section>
       </div>
        
    </section>
</html>
